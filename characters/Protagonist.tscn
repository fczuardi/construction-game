[gd_scene load_steps=11 format=3 uid="uid://tcvg1a1muo2a"]

[ext_resource type="PackedScene" uid="uid://dpkfcip1wqxem" path="res://characters/pete_model.fbx" id="1_6dhom"]
[ext_resource type="AnimationLibrary" uid="uid://ciq4jjvc2ow5h" path="res://animations/LibraryWalkWithSignals.res" id="2_2tkln"]
[ext_resource type="AnimationLibrary" uid="uid://cgbxrwnxj80sm" path="res://animations/Stop Walking.fbx" id="2_hhid5"]
[ext_resource type="Script" uid="uid://o10qpbd1cs4g" path="res://characters/animation_signal_emitter.gd" id="3_2tkln"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_rkrpn"]
animation = &"WalkWithSignals/CheckMap2"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_oew6v"]
animation = &"WalkWithSignals/Stop"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_hhid5"]
animation = &"WalkWithSignals/TPose"

[sub_resource type="AnimationNodeTransition" id="AnimationNodeTransition_hhid5"]
input_0/name = "TPose"
input_0/auto_advance = false
input_0/break_loop_at_end = false
input_0/reset = true
input_1/name = "Walk"
input_1/auto_advance = false
input_1/break_loop_at_end = false
input_1/reset = true
input_2/name = "CheckMap"
input_2/auto_advance = false
input_2/break_loop_at_end = false
input_2/reset = true
input_3/name = "WalkStop"
input_3/auto_advance = false
input_3/break_loop_at_end = false
input_3/reset = true

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_2tkln"]
animation = &"WalkWithSignals/Walk"

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_oew6v"]
graph_offset = Vector2(-620.736, 165.054)
nodes/Animation/node = SubResource("AnimationNodeAnimation_hhid5")
nodes/Animation/position = Vector2(-540, 380)
"nodes/Animation 2/node" = SubResource("AnimationNodeAnimation_rkrpn")
"nodes/Animation 2/position" = Vector2(-580, 780)
"nodes/Animation 3/node" = SubResource("AnimationNodeAnimation_oew6v")
"nodes/Animation 3/position" = Vector2(-460, 220)
nodes/LastTransition/node = SubResource("AnimationNodeTransition_hhid5")
nodes/LastTransition/position = Vector2(-160, 340)
nodes/WalkAnimation/node = SubResource("AnimationNodeAnimation_2tkln")
nodes/WalkAnimation/position = Vector2(-540, 560)
nodes/output/position = Vector2(160, 420)
node_connections = [&"LastTransition", 0, &"Animation", &"LastTransition", 1, &"WalkAnimation", &"LastTransition", 2, &"Animation 2", &"LastTransition", 3, &"Animation 3", &"output", 0, &"LastTransition"]

[node name="Protagonist" instance=ExtResource("1_6dhom")]

[node name="Skeleton3D" parent="." index="0"]
bones/0/position = Vector3(-0.000665505, 0.924148, 0.0183823)
bones/0/rotation = Quaternion(0.0168358, 0.0308323, -0.0322729, 0.998862)
bones/1/rotation = Quaternion(-0.0210467, -0.000789194, 0.0151529, 0.999663)
bones/2/rotation = Quaternion(0.033595, -0.0156309, 0.016125, 0.999183)
bones/3/rotation = Quaternion(0.0335651, -0.015811, 0.0160234, 0.999183)
bones/4/rotation = Quaternion(-0.019511, -0.00140621, 0.00713825, 0.999783)
bones/5/rotation = Quaternion(-0.0582368, -0.00112856, 0.00718738, 0.998276)
bones/7/rotation = Quaternion(-0.638324, -0.372179, 0.548403, -0.39151)
bones/8/rotation = Quaternion(0.393932, -0.179786, 0.152359, 0.888415)
bones/9/rotation = Quaternion(4.00582e-09, -0.00181426, -6.9449e-09, 0.999998)
bones/10/rotation = Quaternion(0.129626, 0.237224, -0.0168744, 0.96262)
bones/11/rotation = Quaternion(0.207885, 0.0399388, 0.0603469, 0.975473)
bones/12/rotation = Quaternion(0.000659693, -0.0374189, -0.0779554, 0.996254)
bones/13/rotation = Quaternion(-0.0294015, -0.0226312, 0.0607032, 0.997466)
bones/15/rotation = Quaternion(0.123659, 0.00580271, 0.0365592, 0.991634)
bones/16/rotation = Quaternion(0.0871241, -3.74448e-05, -0.0170246, 0.996052)
bones/17/rotation = Quaternion(0.0436047, 7.60609e-05, -0.00782701, 0.999018)
bones/19/rotation = Quaternion(0.12353, 0.0054264, 0.0350709, 0.991706)
bones/20/rotation = Quaternion(0.0872475, -1.43254e-05, -0.0160053, 0.996058)
bones/21/rotation = Quaternion(0.0436194, 0.000138026, -0.00551597, 0.999033)
bones/23/rotation = Quaternion(0.123786, 0.00171747, 0.032129, 0.991787)
bones/24/rotation = Quaternion(0.0870068, 8.31981e-05, -0.0138413, 0.996112)
bones/25/rotation = Quaternion(0.0435453, -3.41542e-05, -0.00380659, 0.999044)
bones/27/rotation = Quaternion(0.118337, 0.00811128, 0.000147351, 0.99294)
bones/28/rotation = Quaternion(0.0921997, 0.00313802, 0.017883, 0.995575)
bones/29/rotation = Quaternion(0.0435784, 0.000253998, -0.00469853, 0.999039)
bones/31/rotation = Quaternion(0.625914, -0.375942, 0.570565, 0.375972)
bones/32/rotation = Quaternion(0.426131, 0.179616, -0.0521283, 0.885117)
bones/33/rotation = Quaternion(0.00852484, 0.00168161, -0.116785, 0.993119)
bones/34/rotation = Quaternion(0.0617074, -0.331455, 0.166166, 0.926671)
bones/35/rotation = Quaternion(0.145761, -0.0705693, -0.173442, 0.971438)
bones/36/rotation = Quaternion(0.0906088, -0.0889955, 0.0593925, 0.990122)
bones/37/rotation = Quaternion(0.0227855, -0.0326099, -0.0678424, 0.996903)
bones/39/rotation = Quaternion(0.0828074, -0.00409129, -0.0432105, 0.99562)
bones/40/rotation = Quaternion(0.126364, 0.000213776, 0.0191264, 0.9918)
bones/41/rotation = Quaternion(0.0633108, 1.93715e-06, 0.0116866, 0.997925)
bones/43/rotation = Quaternion(0.082837, -0.00330465, -0.0417119, 0.995684)
bones/44/rotation = Quaternion(0.126332, -3.10095e-06, 0.0193374, 0.9918)
bones/45/rotation = Quaternion(0.0632952, -0.000132171, 0.007035, 0.99797)
bones/47/rotation = Quaternion(0.0829815, 0.000155763, -0.0388136, 0.995795)
bones/48/rotation = Quaternion(0.126203, -0.000363536, 0.0185305, 0.991831)
bones/49/rotation = Quaternion(0.063226, 0.000498527, 0.00236425, 0.997996)
bones/51/rotation = Quaternion(0.0828374, -0.00330273, -0.0438691, 0.995592)
bones/52/rotation = Quaternion(0.126342, 3.11637e-05, 0.0211259, 0.991762)
bones/53/rotation = Quaternion(0.063301, -0.000101702, 0.0106128, 0.997938)
bones/55/rotation = Quaternion(-0.0145079, 0.169902, 0.981574, -0.0862249)
bones/56/rotation = Quaternion(-0.585793, 0.0148692, -0.016541, 0.810155)
bones/57/rotation = Quaternion(0.420911, 0.0192167, 0.03981, 0.906024)
bones/58/rotation = Quaternion(0.290194, -0.0762276, 0.0237749, 0.953631)
bones/60/rotation = Quaternion(-0.0132612, 0.198541, 0.976293, -0.085185)
bones/61/rotation = Quaternion(-0.2657, 0.0807521, -0.0237115, 0.960375)
bones/62/rotation = Quaternion(0.557198, 0.0776951, -0.139006, 0.814967)
bones/63/rotation = Quaternion(0.307015, 0.074224, -0.0240023, 0.948502)

[node name="AnimationPlayer" parent="." index="1"]
libraries = {
&"Stop Walking": ExtResource("2_hhid5"),
&"WalkWithSignals": ExtResource("2_2tkln")
}

[node name="AnimationTree" type="AnimationTree" parent="." index="2"]
tree_root = SubResource("AnimationNodeBlendTree_oew6v")
anim_player = NodePath("../AnimationPlayer")
parameters/LastTransition/current_state = "Walk"
parameters/LastTransition/transition_request = ""
parameters/LastTransition/current_index = 1

[node name="SignalEmitter" type="Node" parent="." index="3"]
script = ExtResource("3_2tkln")
