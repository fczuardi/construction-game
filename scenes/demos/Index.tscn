[gd_scene load_steps=14 format=3 uid="uid://ckdfysx2pcv7m"]

[ext_resource type="FontFile" uid="uid://bgn10o8bm34q6" path="res://imports/fonts/ArgulaRegular/Arugula20250312-Regular.ttf" id="1_rxmpw"]
[ext_resource type="PackedScene" uid="uid://3l7fe0kmxuqf" path="res://demos/PlayerControlsDemo.tscn" id="1_tqvmb"]
[ext_resource type="PackedScene" uid="uid://bxyr8dysao5ct" path="res://demos/FlatTerrainDemo.tscn" id="2_qugmx"]
[ext_resource type="PackedScene" uid="uid://c0t83sxr2dme0" path="res://demos/FollowCameraDemo.tscn" id="3_0j7yx"]
[ext_resource type="Texture2D" uid="uid://dbn38v58mp2ko" path="res://imports/SBS - Photorealistic Texture Pack 3/PTP-Ground_08-128x128.png" id="3_ji7lb"]
[ext_resource type="PackedScene" uid="uid://dkb5uhyt7ffpi" path="res://demos/PlayerRunnerDemo.tscn" id="4_2lln2"]
[ext_resource type="PackedScene" uid="uid://ccjlcg6tf5mev" path="res://demos/SunDemo.tscn" id="5_o6pdu"]

[sub_resource type="GDScript" id="GDScript_rxmpw"]
resource_name = "demo_index"
script/source = "class_name DemoIndex
extends Node3D
## Minimal demo hub: choose a demo and run it.

const VERSION := \"0.1.0\"

@export var demos: Array[PackedScene] = []      # drag your *Demo.tscn files here
@export var demo_names: Array[StringName] = []  # optional pretty names (same length as demos)

@onready var _list: OptionButton = %DemoList
@onready var _play: Button = %PlayBtn

func _ready() -> void:
    if _list:
        _populate()
    else:
        push_warning(\"DemoIndex: OptionButton 'DemoList' not found.\")
    if _play:
        _play.pressed.connect(_on_play)
    else:
        push_warning(\"DemoIndex: Button 'PlayBtn' not found.\")    

func _populate() -> void:
    _list.clear()
    for i in demos.size():
        var label := String(demo_names[i]) \\
            if (i < demo_names.size() and String(demo_names[i]) != \"\") \\
            else demos[i].resource_path.get_file()
        _list.add_item(label, i)
    _list.select(0)

func _on_play() -> void:
    if _list.item_count == 0:
        return
    var idx := _list.get_selected_id()
    if idx < 0 or idx >= demos.size():
        return
    var ps := demos[idx]
    get_tree().root.set_meta(\"launched_from_index\", true)
    get_tree().change_scene_to_packed(ps)
"

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_8cld1"]
sky_top_color = Color(0.3234, 0.49731, 0.66, 1)
sky_horizon_color = Color(0.372643, 0.401698, 0.493167, 1)
ground_bottom_color = Color(0.055293, 0.0637129, 0.0753874, 1)
ground_horizon_color = Color(0.372643, 0.401698, 0.493167, 1)

[sub_resource type="Sky" id="Sky_lgqbo"]
sky_material = SubResource("ProceduralSkyMaterial_8cld1")

[sub_resource type="Environment" id="Environment_u5qyn"]
background_mode = 2
background_energy_multiplier = 0.7
sky = SubResource("Sky_lgqbo")
tonemap_mode = 2

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ji7lb"]
albedo_texture = ExtResource("3_ji7lb")
uv1_scale = Vector3(60, 60, 60)

[sub_resource type="BoxMesh" id="BoxMesh_tqvmb"]
size = Vector3(100, 1, 200)

[node name="Index" type="Node3D"]
script = SubResource("GDScript_rxmpw")
demos = Array[PackedScene]([ExtResource("4_2lln2"), ExtResource("1_tqvmb"), ExtResource("2_qugmx"), ExtResource("5_o6pdu"), ExtResource("3_0j7yx")])
demo_names = Array[StringName]([&"Player Controls", &"Textured Flat Terrain", &"Camera", &"Player Body", &"Sun Orbit"])

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_u5qyn")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.971134, -0.100809, 0.216185, 0, 0.906307, 0.422618, -0.238533, 0.410419, -0.880147, 0, 0, 0)
shadow_enabled = true

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.999148, -0.0412653, 0, 0.0412653, 0.999148, 0, 1.72142, 1.99865)
current = true

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
material_override = SubResource("StandardMaterial3D_ji7lb")
mesh = SubResource("BoxMesh_tqvmb")

[node name="CenterContainer" type="CenterContainer" parent="."]
offset_right = 360.0
offset_bottom = 640.0

[node name="MarginContainer" type="MarginContainer" parent="CenterContainer"]
layout_mode = 2

[node name="VBoxContainer" type="VBoxContainer" parent="CenterContainer/MarginContainer"]
layout_mode = 2
theme_override_constants/separation = 192

[node name="Title" type="Label" parent="CenterContainer/MarginContainer/VBoxContainer"]
layout_mode = 2
theme_override_fonts/font = ExtResource("1_rxmpw")
theme_override_font_sizes/font_size = 28
text = "Contractor Hero Library"
horizontal_alignment = 1

[node name="DemoList" type="OptionButton" parent="CenterContainer/MarginContainer/VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
theme_override_font_sizes/font_size = 21

[node name="PlayBtn" type="Button" parent="CenterContainer/MarginContainer/VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
theme_override_fonts/font = ExtResource("1_rxmpw")
theme_override_font_sizes/font_size = 40
text = "Play"
